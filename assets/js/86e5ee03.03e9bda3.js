"use strict";(self.webpackChunkalephsaurus=self.webpackChunkalephsaurus||[]).push([[774],{8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}},9492:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"This guide helps you resolve common issues when using VT4AI across its different interfaces (CLI, MCP, and REST API).","source":"@site/docs/vt4ai/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/vt4ai/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/aleph8/aleph8.github.io/tree/main/docs/vt4ai/troubleshooting.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"vt4aiSidebar","previous":{"title":"Templates System","permalink":"/vt4ai/templates/overview"}}');var r=s(4848),l=s(8453);const t={sidebar_position:8},o="Troubleshooting",a={},d=[{value:"Common Issues",id:"common-issues",level:2},{value:"API Key Problems",id:"api-key-problems",level:3},{value:"Missing API Key",id:"missing-api-key",level:4},{value:"Invalid API Key",id:"invalid-api-key",level:4},{value:"Installation Issues",id:"installation-issues",level:3},{value:"Import Errors",id:"import-errors",level:4},{value:"Missing Dependencies",id:"missing-dependencies",level:4},{value:"CLI Issues",id:"cli-issues",level:3},{value:"Command Not Found",id:"command-not-found",level:4},{value:"File Not Found",id:"file-not-found",level:4},{value:"Invalid Hash Format",id:"invalid-hash-format",level:4},{value:"MCP Server Issues",id:"mcp-server-issues",level:3},{value:"Server Won&#39;t Start",id:"server-wont-start",level:4},{value:"Tools Not Available",id:"tools-not-available",level:4},{value:"REST API Issues",id:"rest-api-issues",level:3},{value:"Server Start Errors",id:"server-start-errors",level:4},{value:"401 Unauthorized",id:"401-unauthorized",level:4},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Rate Limit Exceeded",id:"rate-limit-exceeded",level:4},{value:"Too Many Requests",id:"too-many-requests",level:4},{value:"Template Issues",id:"template-issues",level:3},{value:"Template Not Found",id:"template-not-found",level:4},{value:"Fields Not Filtered",id:"fields-not-filtered",level:4},{value:"FAQ",id:"faq",level:2},{value:"Q: Can I use VT4AI without an API key?",id:"q-can-i-use-vt4ai-without-an-api-key",level:3},{value:"Q: Why are my responses different from the web interface?",id:"q-why-are-my-responses-different-from-the-web-interface",level:3},{value:"Q: How do I know which template to use?",id:"q-how-do-i-know-which-template-to-use",level:3},{value:"Q: Can I use multiple API keys?",id:"q-can-i-use-multiple-api-keys",level:3},{value:"Q: Is VT4AI compatible with all Python versions?",id:"q-is-vt4ai-compatible-with-all-python-versions",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(n.p,{children:"This guide helps you resolve common issues when using VT4AI across its different interfaces (CLI, MCP, and REST API)."}),"\n",(0,r.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"api-key-problems",children:"API Key Problems"}),"\n",(0,r.jsx)(n.h4,{id:"missing-api-key",children:"Missing API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error: A VirusTotal API key is required.\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Set environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'export VT4AI_API_KEY="your_virustotal_api_key"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use command line parameter:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 -m vt4ai.cli --api-key your_key --hash 275a021bbfb6489e54d471899f7db9d1663fc695ec2fe2a2c4538aabf651fd0f\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Verify your key is valid at ",(0,r.jsx)(n.a,{href:"https://www.virustotal.com/gui/my-apikey",children:"VirusTotal"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"invalid-api-key",children:"Invalid API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error: Invalid API key or insufficient permissions\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check that your API key is copied correctly (no extra spaces)"}),"\n",(0,r.jsx)(n.li,{children:"Verify your VirusTotal account is active"}),"\n",(0,r.jsx)(n.li,{children:"Ensure you have permission for the requested operation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"installation-issues",children:"Installation Issues"}),"\n",(0,r.jsx)(n.h4,{id:"import-errors",children:"Import Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ImportError: No module named 'vt4ai'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install VT4AI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install vt4ai\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check Python environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 -c \"import vt4ai; print('VT4AI installed successfully')\"\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"For development installation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd vt4ai\npip install -e .\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"missing-dependencies",children:"Missing Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ImportError: No module named 'fastapi' / 'mcp'\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions:"}),"\nInstall with optional dependencies:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# For API server\npip install "vt4ai[api]"\n\n# For MCP server\npip install "vt4ai[mcp]"\n\n# For everything\npip install "vt4ai[api,mcp]"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"cli-issues",children:"CLI Issues"}),"\n",(0,r.jsx)(n.h4,{id:"command-not-found",children:"Command Not Found"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"bash: vt4ai: command not found\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"}),"\nUse the module format:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 -m vt4ai.cli --help\n"})}),"\n",(0,r.jsx)(n.h4,{id:"file-not-found",children:"File Not Found"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error processing file: Could not find file: /path/to/file\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check file path is correct"}),"\n",(0,r.jsx)(n.li,{children:"Verify file exists and is readable"}),"\n",(0,r.jsx)(n.li,{children:"Use absolute paths to avoid confusion"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"invalid-hash-format",children:"Invalid Hash Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error: Invalid hash format\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure hash is MD5 (32 chars), SHA1 (40 chars), or SHA256 (64 chars)"}),"\n",(0,r.jsx)(n.li,{children:"Remove any extra characters or spaces"}),"\n",(0,r.jsx)(n.li,{children:"Use only hexadecimal characters (0-9, a-f)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"mcp-server-issues",children:"MCP Server Issues"}),"\n",(0,r.jsx)(n.h4,{id:"server-wont-start",children:"Server Won't Start"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error starting MCP server\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check API key is set:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"echo $VT4AI_API_KEY\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Verify MCP dependencies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'pip install "vt4ai[mcp]"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check Python version (requires 3.11+):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 --version\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"tools-not-available",children:"Tools Not Available"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"MCP tools not found\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Restart your AI assistant/MCP client"}),"\n",(0,r.jsx)(n.li,{children:"Check MCP server configuration"}),"\n",(0,r.jsx)(n.li,{children:"Verify VT4AI MCP server is running"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"rest-api-issues",children:"REST API Issues"}),"\n",(0,r.jsx)(n.h4,{id:"server-start-errors",children:"Server Start Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error starting API server\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install API dependencies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'pip install "vt4ai[api]"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check port availability:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"lsof -i :8000\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use different port:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"uvicorn vt4ai.api.server:app --port 8001\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"401-unauthorized",children:"401 Unauthorized"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'{"detail": "Invalid API key"}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Include API key in header:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -H "X-API-Key: your_key" "http://localhost:8000/api/v1/files/hash"\n'})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Set environment variable for server"}),"\n",(0,r.jsx)(n.li,{children:"Verify key has necessary permissions"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.h4,{id:"rate-limit-exceeded",children:"Rate Limit Exceeded"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error: Rate limit exceeded\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Wait before making next request"}),"\n",(0,r.jsx)(n.li,{children:"Check your VirusTotal API tier limits"}),"\n",(0,r.jsx)(n.li,{children:"Implement exponential backoff in your code"}),"\n",(0,r.jsx)(n.li,{children:"Consider upgrading to premium API"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"too-many-requests",children:"Too Many Requests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP 429: Too Many Requests\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduce request frequency"}),"\n",(0,r.jsx)(n.li,{children:"Use templates to minimize data transfer"}),"\n",(0,r.jsx)(n.li,{children:"Check API tier quotas"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper delay between requests"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"template-issues",children:"Template Issues"}),"\n",(0,r.jsx)(n.h4,{id:"template-not-found",children:"Template Not Found"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Warning: Template 'template_name' not found\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check template name spelling"}),"\n",(0,r.jsx)(n.li,{children:"Verify template exists in templates directory"}),"\n",(0,r.jsxs)(n.li,{children:["Use built-in templates: ",(0,r.jsx)(n.code,{children:"vt4ai_file_basics"}),", ",(0,r.jsx)(n.code,{children:"vt4ai_domain_basics"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"fields-not-filtered",children:"Fields Not Filtered"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Template seems to have no effect\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Compare with raw format to see differences"}),"\n",(0,r.jsx)(n.li,{children:"Check template syntax in JSON file"}),"\n",(0,r.jsx)(n.li,{children:"Verify field paths match VirusTotal response structure"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(n.h3,{id:"q-can-i-use-vt4ai-without-an-api-key",children:"Q: Can I use VT4AI without an API key?"}),"\n",(0,r.jsxs)(n.p,{children:["A: No, VirusTotal requires an API key for all requests. You can get a free key from ",(0,r.jsx)(n.a,{href:"https://www.virustotal.com/",children:"VirusTotal"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"q-why-are-my-responses-different-from-the-web-interface",children:"Q: Why are my responses different from the web interface?"}),"\n",(0,r.jsxs)(n.p,{children:["A: VT4AI uses templates to filter responses for AI optimization. Use ",(0,r.jsx)(n.code,{children:"--format raw"})," to see unfiltered data."]}),"\n",(0,r.jsx)(n.h3,{id:"q-how-do-i-know-which-template-to-use",children:"Q: How do I know which template to use?"}),"\n",(0,r.jsxs)(n.p,{children:["A: Start with the basic templates (",(0,r.jsx)(n.code,{children:"vt4ai_file_basics"}),", etc.) and create custom ones if needed."]}),"\n",(0,r.jsx)(n.h3,{id:"q-can-i-use-multiple-api-keys",children:"Q: Can I use multiple API keys?"}),"\n",(0,r.jsx)(n.p,{children:"A: Currently, VT4AI uses one API key per session. For high-volume usage, consider VirusTotal's enterprise options."}),"\n",(0,r.jsx)(n.h3,{id:"q-is-vt4ai-compatible-with-all-python-versions",children:"Q: Is VT4AI compatible with all Python versions?"}),"\n",(0,r.jsx)(n.p,{children:"A: VT4AI requires Python 3.11 or higher due to modern async features and dependencies."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);