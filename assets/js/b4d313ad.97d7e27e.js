"use strict";(self.webpackChunkalephsaurus=self.webpackChunkalephsaurus||[]).push([[161],{2188:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"mcp/overview","title":"MCP Integration for LLM Agents","description":"The VT4AI MCP (Model Context Protocol) server enables seamless integration with LLM agents and AI assistants, providing them with VirusTotal intelligence through standardized tools.","source":"@site/docs/vt4ai/mcp/overview.md","sourceDirName":"mcp","slug":"/mcp/overview","permalink":"/vt4ai/mcp/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/aleph8/aleph8.github.io/tree/main/docs/vt4ai/mcp/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"vt4aiSidebar","previous":{"title":"CLI Commands Reference","permalink":"/vt4ai/cli/commands"},"next":{"title":"REST API Overview","permalink":"/vt4ai/api/overview"}}');var s=i(4848),r=i(8453);const l={sidebar_position:1},o="MCP Integration for LLM Agents",a={},d=[{value:"What is MCP?",id:"what-is-mcp",level:2},{value:"Key Benefits",id:"key-benefits",level:2},{value:"Available Tools",id:"available-tools",level:2},{value:"Core Analysis Tools",id:"core-analysis-tools",level:3},{value:"<code>vt_get_file_report</code>",id:"vt_get_file_report",level:4},{value:"<code>vt_get_url_report</code>",id:"vt_get_url_report",level:4},{value:"<code>vt_get_domain_report</code>",id:"vt_get_domain_report",level:4},{value:"<code>vt_get_ip_report</code>",id:"vt_get_ip_report",level:4},{value:"Relationship Tools",id:"relationship-tools",level:3},{value:"<code>vt_get_file_relationships</code>",id:"vt_get_file_relationships",level:4},{value:"Information Tools",id:"information-tools",level:3},{value:"<code>vt_get_relationship_types</code>",id:"vt_get_relationship_types",level:4},{value:"<code>get_available_formats</code>",id:"get_available_formats",level:4},{value:"<code>get_available_templates</code>",id:"get_available_templates",level:4},{value:"Setup and Configuration",id:"setup-and-configuration",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Starting the MCP Server",id:"starting-the-mcp-server",level:3},{value:"Configuration for AI Assistants",id:"configuration-for-ai-assistants",level:3},{value:"Claude Desktop Configuration",id:"claude-desktop-configuration",level:4},{value:"General MCP Client Configuration",id:"general-mcp-client-configuration",level:4},{value:"Troubleshooting Claude Desktop Integration",id:"troubleshooting-claude-desktop-integration",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Testing Your Setup",id:"testing-your-setup",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mcp-integration-for-llm-agents",children:"MCP Integration for LLM Agents"})}),"\n",(0,s.jsx)(n.p,{children:"The VT4AI MCP (Model Context Protocol) server enables seamless integration with LLM agents and AI assistants, providing them with VirusTotal intelligence through standardized tools."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-mcp",children:"What is MCP?"}),"\n",(0,s.jsx)(n.p,{children:"The Model Context Protocol (MCP) is a standard that allows AI applications to securely connect to external data sources and tools. VT4AI's MCP server exposes VirusTotal capabilities as tools that LLM agents can use naturally in conversations."}),"\n",(0,s.jsx)(n.h2,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ud83e\udd16 Native LLM Integration"}),": Works directly with Claude, ChatGPT, and other AI assistants"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u26a1 Optimized for AI"}),": Responses are pre-filtered and formatted for token efficiency"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ud83c\udfaf Context-Aware"}),": Tools provide rich context and guidance to LLMs"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"available-tools",children:"Available Tools"}),"\n",(0,s.jsx)(n.p,{children:"The VT4AI MCP server provides these tools for LLM agents:"}),"\n",(0,s.jsx)(n.h3,{id:"core-analysis-tools",children:"Core Analysis Tools"}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_file_report",children:(0,s.jsx)(n.code,{children:"vt_get_file_report"})}),"\n",(0,s.jsx)(n.p,{children:"Analyze files by hash with AI-optimized output."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'vt_get_file_report(\n  file_hash: string,\n  format?: "json" | "markdown" | "xml" | "raw",\n  template_name?: string\n)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_url_report",children:(0,s.jsx)(n.code,{children:"vt_get_url_report"})}),"\n",(0,s.jsx)(n.p,{children:"Analyze URLs for threats and reputation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'vt_get_url_report(\n  url: string,\n  format?: "json" | "markdown" | "xml" | "raw",\n  template_name?: string\n)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_domain_report",children:(0,s.jsx)(n.code,{children:"vt_get_domain_report"})}),"\n",(0,s.jsx)(n.p,{children:"Check domain reputation and security status."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'vt_get_domain_report(\n  domain: string,\n  format?: "json" | "markdown" | "xml" | "raw",\n  template_name?: string\n)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_ip_report",children:(0,s.jsx)(n.code,{children:"vt_get_ip_report"})}),"\n",(0,s.jsx)(n.p,{children:"Investigate IP addresses for malicious activity."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'vt_get_ip_report(\n  ip: string,\n  format?: "json" | "markdown" | "xml" | "raw",\n  template_name?: string\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"relationship-tools",children:"Relationship Tools"}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_file_relationships",children:(0,s.jsx)(n.code,{children:"vt_get_file_relationships"})}),"\n",(0,s.jsx)(n.p,{children:"Explore connections between files and other objects."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"vt_get_file_relationships(\n  file_hash: string,\n  relationship: string,\n  limit?: number,\n  cursor?: string\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"information-tools",children:"Information Tools"}),"\n",(0,s.jsx)(n.h4,{id:"vt_get_relationship_types",children:(0,s.jsx)(n.code,{children:"vt_get_relationship_types"})}),"\n",(0,s.jsx)(n.p,{children:"List all available relationship types with descriptions."}),"\n",(0,s.jsx)(n.h4,{id:"get_available_formats",children:(0,s.jsx)(n.code,{children:"get_available_formats"})}),"\n",(0,s.jsx)(n.p,{children:"Show supported output formats and their use cases."}),"\n",(0,s.jsx)(n.h4,{id:"get_available_templates",children:(0,s.jsx)(n.code,{children:"get_available_templates"})}),"\n",(0,s.jsx)(n.p,{children:"Display available templates for filtering responses."}),"\n",(0,s.jsx)(n.h2,{id:"setup-and-configuration",children:"Setup and Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"VirusTotal API key"}),"\n",(0,s.jsxs)(n.li,{children:["VT4AI installed with MCP support:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'pip install "vt4ai[mcp]"\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export VT4AI_API_KEY="your_virustotal_api_key"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"starting-the-mcp-server",children:"Starting the MCP Server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Start the server (default stdio)\npython -m vt4ai.mcp\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-for-ai-assistants",children:"Configuration for AI Assistants"}),"\n",(0,s.jsx)(n.p,{children:"The exact configuration depends on your AI assistant or MCP client. Below are specific examples for different platforms:"}),"\n",(0,s.jsx)(n.h4,{id:"claude-desktop-configuration",children:"Claude Desktop Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["For Claude Desktop, you need to configure the MCP server in the ",(0,s.jsx)(n.code,{children:"claude_desktop_config.json"})," file:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"File Location:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"macOS"}),": ",(0,s.jsx)(n.code,{children:"~/Library/Application Support/Claude/claude_desktop_config.json"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Windows"}),": ",(0,s.jsx)(n.code,{children:"%APPDATA%\\Claude\\claude_desktop_config.json"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Configuration Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "mcpServers": {\n    "vt4ai": {\n      "command": "python",\n      "args": ["-m", "vt4ai.mcp"],\n      "env": {\n        "VT4AI_API_KEY": "your_api_key_here"\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Steps to Configure:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure VT4AI is installed with MCP support: ",(0,s.jsx)(n.code,{children:'pip install "vt4ai[mcp]"'})]}),"\n",(0,s.jsxs)(n.li,{children:["Create or edit the ",(0,s.jsx)(n.code,{children:"claude_desktop_config.json"})," file at the location above"]}),"\n",(0,s.jsx)(n.li,{children:"Add the VT4AI MCP server configuration"}),"\n",(0,s.jsx)(n.li,{children:"Set your VirusTotal API key in the environment variables"}),"\n",(0,s.jsx)(n.li,{children:"Restart Claude Desktop to apply the changes"}),"\n",(0,s.jsx)(n.li,{children:"Verify the connection by checking the MCP status in Claude Desktop"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"general-mcp-client-configuration",children:"General MCP Client Configuration"}),"\n",(0,s.jsx)(n.p,{children:"For other MCP clients, use this general format:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "mcpServers": {\n    "vt4ai": {\n      "command": "python",\n      "args": ["-m", "vt4ai.mcp"],\n      "env": {\n        "VT4AI_API_KEY": "your_api_key_here"\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-claude-desktop-integration",children:"Troubleshooting Claude Desktop Integration"}),"\n",(0,s.jsx)(n.p,{children:"If you encounter issues connecting VT4AI MCP to Claude Desktop:"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Server Not Recognized"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure the ",(0,s.jsx)(n.code,{children:"claude_desktop_config.json"})," file is in the correct location"]}),"\n",(0,s.jsx)(n.li,{children:"Verify JSON syntax is valid (use a JSON validator)"}),"\n",(0,s.jsxs)(n.li,{children:["Use absolute paths for Python executable if needed: ",(0,s.jsx)(n.code,{children:'"command": "/usr/bin/python3"'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"API Key Issues"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify your VirusTotal API key is correct"}),"\n",(0,s.jsx)(n.li,{children:"Ensure the environment variable is properly set in the configuration"}),"\n",(0,s.jsx)(n.li,{children:"Test the API key independently using VT4AI CLI"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Python Environment Issues"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If using virtual environments, specify the full path to the Python executable"}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"PYTHONPATH"})," to the environment if needed:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"env": {\n  "VT4AI_API_KEY": "your_api_key_here",\n  "PYTHONPATH": "/path/to/your/project"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Connection Verification"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check MCP status in Claude Desktop settings"}),"\n",(0,s.jsx)(n.li,{children:"Look for error messages in Claude Desktop's developer tools"}),"\n",(0,s.jsx)(n.li,{children:"Test with a simple MCP server first to verify basic functionality"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing-your-setup",children:"Testing Your Setup"}),"\n",(0,s.jsx)(n.p,{children:"You can verify your VT4AI MCP integration by asking Claude Desktop to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Get available formats: "Show me the available output formats"'}),"\n",(0,s.jsx)(n.li,{children:"Analyze a known safe file hash"}),"\n",(0,s.jsx)(n.li,{children:"Check a domain reputation"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../templates/overview",children:"Understand templates"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../api/overview",children:"Explore the REST API"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../cli/overview",children:"Learn CLI commands"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../troubleshooting",children:"Read troubleshooting guide"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);